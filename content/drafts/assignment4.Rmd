---
title: "Prep Work #4 - Conda, R, and Reading"
date: "2018-04-12"
---

Learning Objectives

1. More practice with Unix
    - Install programs with conda
    - Create a metagene with deepTools
1. More practice with R
1. Paper to read


Tasks

1. Connect to [MARCC](https://practicalgenomics.github.io/marcc)
1. Under development

    ```
    # Connect to compute node interactively
    srun -p shared -c 1 --mem 1024 -t 30 --pty bash
    
    # Load conda package manager
    module load anaconda-python/3.6
    
    # Add bioconda for scientific software
    # ... https://bioconda.github.io/recipes.html#recipes
    conda config --add channels defaults
    conda config --add channels conda-forge
    conda config --add channels bioconda
    
    # Create environment for an isolated, reproducible software stack
    conda create --name pg2018
    
    # Activate environment
    source activate pg2018
    
    # Install programs
    conda install macs2=2.1.1.20160309
    conda install deeptools=2.5.7
    conda install htslib=1.3
    conda install rsem=1.3.0
    
    # Switch to high performance file system
    cd ~/scratch
    
    # Create working directory
    mkdir prepwork
    cd prepwork
    
    # Test deepTools installation
    computeMatrix reference-point -S ~/work/roadmap/HUES64_rep1.H3K4me3.chr20.bw -R     ~/work/genomes/hg19-iGenomes.bed -out k4.mat.gz
    plotHeatmap -m k4.mat.gz -o k4.png
    ```
1. Copy metagene plot from MARCC to local computer
    ```
    scp username-temp@jhu.edu@gateway2.marcc.jhu.edu:scratch/prepwork/k4.png Desktop
    ```
